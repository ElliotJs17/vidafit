<div class="entrenamientos-page">
  <!-- Sidebar de filtrado -->
  <aside class="filtros-sidebar">
    <div class="sidebar-header">
      <h3><span class="icon-filter">ğŸ”</span> Filtrar Entrenamientos</h3>
      <p class="sidebar-subtitle">
        Encuentra entrenamientos segÃºn tus objetivos
      </p>
    </div>

    <div class="filtros-container">
      <div class="filtro-group">
        <label for="filtro-tipo" class="filtro-label">
          <span class="icon-label">ğŸ‹ï¸</span> Tipo
        </label>
        <select id="filtro-tipo" class="filtro-select">
          <option value="">Todos los tipos</option>
          <option value="Cardio">ğŸƒ Cardio</option>
          <option value="Fuerza">ğŸ’ª Fuerza</option>
          <option value="HIIT">âš¡ HIIT</option>
          <option value="Yoga">ğŸ§˜ Yoga</option>
        </select>
      </div>

      <div class="filtro-group">
        <label for="filtro-nivel" class="filtro-label">
          <span class="icon-label">ğŸ“Š</span> Nivel
        </label>
        <select id="filtro-nivel" class="filtro-select">
          <option value="">Todos los niveles</option>
          <option value="Principiante">â­ Principiante</option>
          <option value="Intermedio">â­â­ Intermedio</option>
          <option value="Avanzado">â­â­â­ Avanzado</option>
        </select>
      </div>

      <div class="filtro-group">
        <label for="filtro-duracion" class="filtro-label">
          <span class="icon-label">â±ï¸</span> DuraciÃ³n mÃ¡xima
        </label>
        <select id="filtro-duracion" class="filtro-select">
          <option value="">Cualquier duraciÃ³n</option>
          <option value="15">âš¡ Hasta 15 min</option>
          <option value="30">ğŸ• Hasta 30 min</option>
          <option value="60">ğŸ•‘ Hasta 1 hora</option>
        </select>
      </div>

      <div class="filtro-group">
        <label for="filtro-equipamiento" class="filtro-label">
          <span class="icon-label">ğŸ‹ï¸â€â™‚ï¸</span> Equipamiento
        </label>
        <select id="filtro-equipamiento" class="filtro-select">
          <option value="">Cualquier equipamiento</option>
          <option value="Ninguno">ğŸš¶ Ninguno (solo cuerpo)</option>
          <option value="BÃ¡sico">ğŸ  BÃ¡sico (en casa)</option>
          <option value="Gimnasio">ğŸ‹ï¸â€â™‚ï¸ Gimnasio completo</option>
        </select>
      </div>

      <button
        id="limpiar-filtros"
        class="btn-limpiar"
        aria-label="Limpiar todos los filtros"
      >
        <span class="btn-icon">ğŸ—‘ï¸</span>
        <span class="btn-text">Limpiar Filtros</span>
      </button>
    </div>
  </aside>

  <!-- Contenido principal -->
  <main class="entrenamientos-content">
    <header class="repo-header">
      <div class="header-left">
        <h1>
          <span class="icon-title">ğŸ“–</span> Repositorio de Entrenamientos
        </h1>
        <p class="subtitle">
          Descubre, crea y comparte tus rutinas de ejercicio
        </p>
      </div>
      <div class="search-container">
        <div class="search-box" role="search">
          <input
            type="text"
            id="search-input"
            placeholder="Buscar entrenamientos, ejercicios..."
            aria-label="Buscar entrenamientos"
          />
          <button id="search-btn" type="button" aria-label="Buscar">
            <span class="search-icon">ğŸ”</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Contador de resultados -->
    <div
      class="results-info"
      id="results-info"
      style="display: none"
      aria-live="polite"
    >
      <span class="results-count" id="results-count">0</span>
      <span class="results-text">entrenamientos encontrados</span>
    </div>

    <!-- Loading state -->
    <div class="loading-state" id="loading-state" aria-live="polite">
      <div class="spinner" aria-hidden="true"></div>
      <p class="loading-text">Cargando entrenamientos...</p>
    </div>

    <!-- Listado de entrenamientos -->
    <section
      class="entrenamientos-grid"
      id="entrenamientos-grid"
      aria-label="Listado de entrenamientos"
    >
      <!-- Los entrenamientos se cargarÃ¡n dinÃ¡micamente -->
    </section>

    <!-- Estado vacÃ­o -->
    <div
      class="empty-state"
      id="empty-state"
      style="display: none"
      aria-live="polite"
    >
      <div class="empty-illustration">
        <div class="empty-icon" aria-hidden="true">ğŸ‹ï¸</div>
      </div>
      <h3 class="empty-title">Â¡Tu repositorio estÃ¡ vacÃ­o!</h3>
      <p class="empty-message">Comienza creando tu primer entrenamiento</p>
      <button
        id="btn-crear-vacio"
        class="btn-crear-vacio"
        aria-label="Crear primer entrenamiento"
      >
        <span class="btn-icon">âœ¨</span>
        <span class="btn-text">Crear mi primer entrenamiento</span>
      </button>
    </div>

    <!-- Sin resultados -->
    <div
      class="no-results"
      id="no-results"
      style="display: none"
      aria-live="polite"
    >
      <div class="no-results-icon" aria-hidden="true">ğŸ”</div>
      <h3 class="no-results-title">No se encontraron entrenamientos</h3>
      <p class="no-results-message">
        Intenta con otros tÃ©rminos de bÃºsqueda o ajusta los filtros
      </p>
    </div>

    <!-- BotÃ³n flotante -->
    <button
      id="abrir-modal"
      class="btn-crear-floating"
      aria-label="Crear nuevo entrenamiento"
    >
      <span class="btn-icon">+</span>
      <span class="btn-text">Nuevo Entrenamiento</span>
    </button>
  </main>
</div>

<!-- Modal para crear/editar entrenamiento -->
<div
  class="modal-overlay"
  id="modal-entrenamiento"
  role="dialog"
  aria-modal="true"
  aria-labelledby="modal-title"
  style="display: none"
>
  <div class="modal-container">
    <div class="modal-header">
      <h2 id="modal-title" class="modal-title">âœ¨ Crear Nuevo Entrenamiento</h2>
      <button
        class="modal-close"
        id="close-modal"
        type="button"
        aria-label="Cerrar modal"
      >
        <span aria-hidden="true">Ã—</span>
      </button>
    </div>

    <div class="modal-body">
      <form id="form-entrenamiento" class="form-entrenamiento">
        <!-- InformaciÃ³n bÃ¡sica -->
        <div class="form-section">
          <h3 class="section-title">
            <span class="section-icon">ğŸ“</span> InformaciÃ³n BÃ¡sica
          </h3>

          <div class="form-group">
            <label for="entrenamiento-imagen" class="form-label">
              <span class="label-icon">ğŸ–¼ï¸</span> Imagen del entrenamiento
            </label>
            <input
              type="file"
              id="entrenamiento-imagen"
              class="form-input"
              accept="image/*"
              aria-describedby="image-help"
            />
            <small id="image-help" class="form-help">
              Sube una imagen representativa de tu entrenamiento (opcional)
            </small>
            <div
              id="imagen-preview"
              class="image-preview"
              style="display: none"
            >
              <img id="preview-img" src="" alt="Vista previa de la imagen" />
              <button
                type="button"
                id="eliminar-imagen"
                class="btn-eliminar-imagen"
              >
                Ã— Eliminar imagen
              </button>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="entrenamiento-nombre" class="form-label">
                <span class="label-icon">ğŸ‹ï¸</span> Nombre del entrenamiento *
              </label>
              <input
                type="text"
                id="entrenamiento-nombre"
                class="form-input"
                placeholder="Ej: Rutina HIIT para principiantes"
                required
                aria-required="true"
              />
            </div>
            <div class="form-group">
              <label for="entrenamiento-tipo" class="form-label">
                <span class="label-icon">ğŸ·ï¸</span> Tipo *
              </label>
              <select
                id="entrenamiento-tipo"
                class="form-select"
                required
                aria-required="true"
              >
                <option value="">Seleccionar tipo</option>
                <option value="Cardio">ğŸƒ Cardio</option>
                <option value="Fuerza">ğŸ’ª Fuerza</option>
                <option value="HIIT">âš¡ HIIT</option>
                <option value="Yoga">ğŸ§˜ Yoga</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="entrenamiento-desc" class="form-label">
              <span class="label-icon">ğŸ“„</span> DescripciÃ³n *
            </label>
            <textarea
              id="entrenamiento-desc"
              class="form-textarea"
              rows="3"
              placeholder="Describe tu entrenamiento y sus beneficios..."
              required
              aria-required="true"
            ></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="entrenamiento-duracion" class="form-label">
                <span class="label-icon">â±ï¸</span> DuraciÃ³n (min) *
              </label>
              <input
                type="number"
                id="entrenamiento-duracion"
                class="form-input"
                min="1"
                max="300"
                required
                aria-required="true"
              />
            </div>
            <div class="form-group">
              <label for="entrenamiento-nivel" class="form-label">
                <span class="label-icon">ğŸ“Š</span> Nivel *
              </label>
              <select
                id="entrenamiento-nivel"
                class="form-select"
                required
                aria-required="true"
              >
                <option value="">Seleccionar nivel</option>
                <option value="Principiante">â­ Principiante</option>
                <option value="Intermedio">â­â­ Intermedio</option>
                <option value="Avanzado">â­â­â­ Avanzado</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="entrenamiento-equipamiento" class="form-label">
              <span class="label-icon">ğŸ‹ï¸â€â™‚ï¸</span> Equipamiento necesario
            </label>
            <input
              type="text"
              id="entrenamiento-equipamiento"
              class="form-input"
              placeholder="Ej: Mancuernas, colchoneta, banda elÃ¡stica"
            />
          </div>
        </div>

        <!-- Ejercicios -->
        <div class="form-section">
          <h3 class="section-title">
            <span class="section-icon">ğŸ’ª</span> Ejercicios
          </h3>
          <div
            id="ejercicios-container"
            class="dynamic-container"
            aria-live="polite"
          >
            <!-- Los ejercicios se aÃ±adirÃ¡n dinÃ¡micamente -->
          </div>
          <button
            type="button"
            id="agregar-ejercicio"
            class="btn-add-item"
            aria-label="AÃ±adir nuevo ejercicio"
          >
            <span class="btn-icon">+</span>
            <span class="btn-text">AÃ±adir Ejercicio</span>
          </button>
        </div>

        <!-- MÃ©tricas -->
        <div class="form-section">
          <h3 class="section-title">
            <span class="section-icon">ğŸ”¥</span> MÃ©tricas
          </h3>

          <div class="form-row">
            <div class="form-group">
              <label for="entrenamiento-calorias" class="form-label">
                <span class="label-icon">âš¡</span> CalorÃ­as estimadas
              </label>
              <input
                type="number"
                id="entrenamiento-calorias"
                class="form-input"
                min="1"
                max="2000"
              />
            </div>
            <div class="form-group">
              <label for="entrenamiento-objetivo" class="form-label">
                <span class="label-icon">ğŸ¯</span> Objetivo principal
              </label>
              <select id="entrenamiento-objetivo" class="form-select">
                <option value="PÃ©rdida de grasa">ğŸ”¥ PÃ©rdida de grasa</option>
                <option value="Ganancia muscular">ğŸ’ª Ganancia muscular</option>
                <option value="Resistencia">ğŸƒ Resistencia</option>
                <option value="Flexibilidad">ğŸ§˜ Flexibilidad</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Instrucciones -->
        <div class="form-section">
          <h3 class="section-title">
            <span class="section-icon">ğŸ‘¨â€ğŸ«</span> Instrucciones
          </h3>
          <div
            id="instrucciones-container"
            class="dynamic-container"
            aria-live="polite"
          >
            <!-- Las instrucciones se aÃ±adirÃ¡n dinÃ¡micamente -->
          </div>
          <button
            type="button"
            id="agregar-instruccion"
            class="btn-add-item"
            aria-label="AÃ±adir nueva instrucciÃ³n"
          >
            <span class="btn-icon">+</span>
            <span class="btn-text">AÃ±adir InstrucciÃ³n</span>
          </button>
        </div>

        <!-- Palabras clave -->
        <div class="form-section">
          <h3 class="section-title">
            <span class="section-icon">ğŸ·ï¸</span> Etiquetas
          </h3>
          <div class="form-group">
            <label for="entrenamiento-keywords" class="form-label">
              <span class="label-icon">ğŸ”–</span> Palabras clave (separadas por
              comas)
            </label>
            <input
              type="text"
              id="entrenamiento-keywords"
              class="form-input"
              placeholder="Ej: casa, principiante, cardio, full-body"
              aria-describedby="keywords-help"
            />
            <small id="keywords-help" class="form-help">
              Ayuda a otros usuarios a encontrar tu entrenamiento
            </small>
          </div>
        </div>

        <div class="form-actions">
          <button
            type="button"
            class="btn-cancel"
            onclick="closeModal()"
            aria-label="Cancelar y cerrar formulario"
          >
            <span class="btn-icon">âœ–</span>
            <span class="btn-text">Cancelar</span>
          </button>
          <button
            type="submit"
            class="btn-save"
            aria-label="Guardar entrenamiento"
          >
            <span class="btn-icon">ğŸ’¾</span>
            <span class="btn-text">Guardar Entrenamiento</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal para ver detalles de entrenamiento -->
<div
  class="modal-overlay"
  id="modal-detalles"
  role="dialog"
  aria-modal="true"
  aria-labelledby="detalle-titulo"
  style="display: none"
>
  <div class="modal-container modal-details">
    <div class="modal-header">
      <h2 id="detalle-titulo" class="modal-title">
        Detalles del Entrenamiento
      </h2>
      <button
        class="modal-close"
        onclick="closeDetallesModal()"
        type="button"
        aria-label="Cerrar detalles"
      >
        <span aria-hidden="true">Ã—</span>
      </button>
    </div>
    <div class="modal-body" id="detalle-contenido" aria-live="polite">
      <!-- El contenido se cargarÃ¡ dinÃ¡micamente -->
    </div>
  </div>
</div>
